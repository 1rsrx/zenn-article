---
title: "UserDefaultsæ“ä½œã‚’æ¥½ã«ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª"
emoji: "ğŸ—‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["swift"]
published: true
---
## ã¯ã˜ã‚ã«
UserDefaultsã®ç®¡ç†ã£ã¦ã‚ã‚“ã©ãã•ã„ã§ã™ã‚ˆã­ã€‚
ç‰¹ã«ã“ã®ã‚ãŸã‚Šâ†“â†“
- ã‚­ãƒ¼ã®ç®¡ç†
- åˆæœŸå€¤ã®è¨­å®š

ã“ã‚Œã‚‰ã‚’æ¥½ã«ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
SwiftyUserDefaultsã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ã¨æ¥½ã«ã§ãã¾ã™ã€‚

[GitHub](https://github.com/sunshinejr/SwiftyUserDefaults)

## å°å…¥
(READMEã®ã‚³ãƒ”ãƒšãªã®ã§ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ›´æ–°ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚)

### CocoaPods
```
pod 'SwiftyUserDefaults', '~> 5.0'
```

### SPM
```
let package = Package(
    name: "MyPackage",
    products: [...],
    dependencies: [
        .package(url: "https://github.com/sunshinejr/SwiftyUserDefaults.git", .upToNextMajor(from: "5.0.0"))
    ],
    targets: [...]
)
```

### Carthage
```
github "sunshinejr/SwiftyUserDefaults" ~> 5.0
```

## ä½¿ã„æ–¹
### 1. ã‚­ãƒ¼ã®å®šç¾©
```swift
extension DefaultsKeys {
    // åˆæœŸå€¤ã‚’è¨­å®šã—ãªã„å ´åˆ
    var username: DefaultsKey<String?> { .init("username") }
    
    // åˆæœŸå€¤ã‚’è¨­å®šã™ã‚‹å ´åˆ
    var launchCount: DefaultsKey<Int> { .init("launchCount", defaultValue: 0) }
}
```

### 2. å–å¾—
```swift
let username: String? = Defaults[\.username]
let launchCount: Int = Defaults[\.launchCount]
```

### 3. æ›´æ–°
```swift
Defaults[\.username] = "new username"
```

### 4. ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰
å…¨æ¶ˆã—
```swift
Defaults.removeAll()
```

## æ³¨æ„
Defaults[]ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯`import SwiftyUserDefaults`ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
è¤‡æ•°ç®‡æ‰€ã«`import SwiftyUserDefaults`ãŒã‚ã‚‹ã¨ã€è„±SwiftyUserDefaultsã‚’ã™ã‚‹ã¨ãªã£ãŸã¨ãã«åœ°ç„ã«ãªã‚Šã¾ã™w

UserDefaultsã‚’æ“ä½œã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ç”¨æ„ã—ã¦ã€ãã“ã«é–‰ã˜è¾¼ã‚ãŸæ–¹ãŒã„ã„ã§ã™ã­ãƒ¼ã€‚

## æœ€å¾Œã«
æœ€å¾Œã¾ã§èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼