---
title: "RxSwiftã®ä¸¦åˆ—å‡¦ç†"
emoji: "ğŸ‘"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["swift"]
published: false
publication_name: "karabiner_inc"
---
# æº–å‚™
ä¸‹è¨˜é–¢æ•°ã§Observableã‚’ç”Ÿæˆã—ã¾ã™ã€‚
delayã¯éåŒæœŸã£ã½ã•ã‚’å‡ºã™ãŸã‚ã«å…¥ã‚Œã¾ã—ãŸã€‚
```swift
func observable(value: Int, delay: Int) -> Observable<Int> {
    return Observable.create { observer in
        observer.onNext(value)
        observer.onCompleted()
        return Disposables.create()
    }
    .delay(.seconds(delay), scheduler: MainScheduler.instance)
}
```

# zip
- ä¸Šæµã®å…¨ã¦ã®Observableã‹ã‚‰å€¤ãŒç™ºè¡Œã•ã‚ŒãŸæ™‚ã€ãã‚Œã‚‰ã‚’ã‚¿ãƒ—ãƒ«ã«ã™ã‚‹
- ä¸Šæµã®Observableã§1ã¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºè¡Œã•ã‚Œã‚‹ã¨ã€onErrorã§çµ‚äº†
- ä¸Šæµå…¨ã¦ã®Observableã§onCompletedãŒç™ºè¡Œã•ã‚Œã‚‹ã¨ã€çµ‚äº†
```swift
Observable.zip(
    observable(value: 1, delay: 1),
    observable(value: 2, delay: 2)
)
.subscribe(
    onNext: { (v1, v2) in
        print(v1)
        print(v2)
    },
    onError: { _ in
        print("onError")
    },
    onCompleted: {
        print("onCompleted")
    }
)
.disposed(by: bag)

// é…åˆ—ã‚‚ã„ã‘ã‚‹
Observable.zip(
    [
        observable(value: 1, delay: 1),
        observable(value: 2, delay: 2),
        observable(value: 3, delay: 3),
    ]
)
```

# merge
- ä¸Šæµã®è¤‡æ•°ã®Observableã§å€¤ãŒç™ºè¡Œã•ã‚Œã‚‹ãŸã³ã«ã€ãã‚Œãã‚Œã§æµã‚Œã¦ãã‚‹
- ä¸Šæµã®ã©ã“ã‹ã§ErrorãŒç™ºè¡Œã•ã‚Œã‚‹ã¨ã€onErrorã§çµ‚äº†
- ä¸Šæµå…¨ã¦ã®Observableã§onCompletedãŒç™ºè¡Œã•ã‚Œã‚‹ã¨ã€çµ‚äº†

```swift
Observable.of(
    observable(value: 1, delay: 1),
    observable(value: 2, delay: 2)
)
.merge()
.subscribe(
    onNext: {
        print($0)
    },
    onError: { _ in
        print("onError")
    },
    onCompleted: {
        print("onCompleted")
    }
)
.disposed(by: bag)

// é…åˆ—ã‚‚ã„ã‘ã‚‹
Observable
    .merge(
        [
            observable(value: 1, delay: 1),
            observable(value: 2, delay: 2)
        ]
    )
    
```